<!DOCTYPE html> 
<html> 
    <head> 
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

        <title>Assignment 5</title> 

        <link href="style.css" media="screen" rel="stylesheet" type="text/css" />

    </head> 
    <body> 

        <div class="header">
            <h1>Assignment 5: Getting Meshy! and Lamps!</h1>
            <h2>Jessica Douma | HCDE 533 | Autumn 2022</h2>
            <p>
                <!-- -->
                <img src="A5-files/Pictures/printed-bulbasaur.png" width=400></a>
            </p>

            <h2>Part 1: Let's Get Meshy</h2>
            <p>
                These week we had to explore modifying meshes to produce a single printable STL that pass all the checks for rapid prototyping. I explored <a href="https://www.thingiverse.com">Thingiverse</a> for about 30 minutes looking through different objects hoping to spark an idea of what I wanted to create. I ended up finding some cute pokemon and decided to start there. I went through the following steps to create my modified mesh:
                
                <table>
                    <tr>
                        <td>
                            <img src="A5-files/Pictures/import-bulbasaur.png" width=400></a> 
                            <br> 
                            1. Imported the <a href="https://www.thingiverse.com/thing:327753">bulbasaur STL</a> from Thingiverse into Rhino and verifiied that it was a closed mesh.
                        </td>
                        <td>
                            <img src="A5-files/Pictures/position-box.png" width=400></a>
                            <br>
                            2. Drew a large box and positioned it above bulbasaur using the Gumball tool, such that it intersected the top of him.
                        </td>
                        <td>
                            <img src="A5-files/Pictures/mesh-split.png" width=400></a>
                            <br>
                            3. Ran the <i>MeshSplit</i> command on the objects to remove the top part of bulbasaur, using the box as the cutting object.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img src="A5-files/Pictures/cap.png" width=400></a>
                            <br>
                            4. Step 3 left me with an open mesh, so ran the <i>Cap</i> command on my updated bulbasaur to close it.
                        </td>
                        <td>
                            <img src="A5-files/Pictures/import-cactus.png" width=400></a>
                            <br>
                            5. Imported one of the <a href="https://www.thingiverse.com/thing:2398762">cactus STL's</a> from Thingiverse into Rhino and verified that it is a closed mesh. When importing, I chose the split disjoint mesh option so that I could easily remove the pot.
                        </td>
                        <td>
                            <img src="A5-files/Pictures/quad-remesh.png" width=400></a>
                            <br>
                            6. The cactus was very detailed, so I ran the <i>QuadRemesh</i> command on it, with a target polygon count of 2000, and reduced it from ~114,000 polygons to ~11,000.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img src="A5-files/Pictures/scale.png" width=400></a>
                            <br>
                            7. The cactus was a lot larger than the bulbasaur at this point, so I scaled it down using the <i>Scale</i> command to scale it down by a factor of 0.8.
                        </td>
                        <td>
                            <img src="A5-files/Pictures/position-cactus.png" width=400></a>
                            <br>
                            8. Next, I rotated, positioned, and angled the cactus over bulbasaur using the Gumball tool such that it was coming out the top of his shell.
                        </td>
                        <td>
                            <img src="A5-files/Pictures/final-mesh-rendered.png" width=400></a>
                            <br>
                            9. Lastly, I ran the <i>MeshBooleanUnion</i> command on the two meshes to combine them and re-verified that the mesh was still closed. I then rendered the object to look at my creation and exported it as an STL.
                        </td>
                    </tr>
                </table>
            </p>

            <h2>Part 2: Getting Started with Our Lamps</h2>
            <p>
                I have a lot of ideas for my lamp, so for this week I wanted to explore them all and understand how feasible they'd be. I came across a couple pine cone lamp shades and decided to investigate to see how easy/difficult something similar, but more flowery looking would be. I started looking about ways I might model leaf or petal like shapes, knowing that I wanted to design my lamp parametrically, and found this <a href="https://www.youtube.com/watch?v=_3_7sDce6ME">YouTube tutorial</a>. I thought this was a great place to get started cause the shapes were nothing like I wanted, but the the tutorial would help me understand how to get there, thereby ensuring that I understood the content. I watched the tutorial and went through the steps, trying to see if this would give me me the outcome I wanted so that I could design the base of the lamp. 

                <br><br>
                <img src="A5-files/Pictures/grasshopper-make-leaves.png" width=90%></a>
                <br><br>

                Using the YouTube video as a guide to get started, I was able to create a leaf like shape that I could easily manipulate and change using bezier curves and different multipliers to increase the size and angles of each leaf. I then extruded the surface to create a 3D shape and entered the geometry into a polar array where I could vary the number of leaves in the ring. While I waited for some prints to finish up, I kept messing around with my grasshopper definition. I copy and pasted the script multiple times so that I could visualize what the final lamp would look like and was really pleased with the level of custimizability and how much room I had to play. The only bummer was that if I wanted to print the lamp shade as a single piece, Cura estimated the print as needing 2 days and 8 hours to complete :'). Printing each row individually though wasn't a huge deal; instead of having one tube that all of the leaves connected to, I would just have each row connect to its own tube, which could then be stacked to build each layer of the lamp. Happy with the results and confident in my proof of concept, I turned my focus to the base of the lamp, since that was the remaining piece. 

                <br><br>
                <img src="A5-files/Pictures/single-leaf.png" width=20%></a>
                <img src="A5-files/Pictures/extruded-leaf.png" width=20%></a>
                <img src="A5-files/Pictures/polar-array.png" width=20%></a>
                <img src="A5-files/Pictures/multiple-leaves.png" width=20%></a>
                <br><br>

                To start planning the base, I decided that my lamp would be a table lamp rather than a hanging lamp, which meant that my base has to allow the lamp innerds to sit inside of it and support it upright, while also allowing the cord to easily bend and exit out the bottom so that it could sit flat on the table. I decided to start by designing the inner support first. I measured the lamp innerds and found that the top was 37.2mm wide and 40mm tall before it started to taper. I drew a tube that was 38.5mm wide and 40mm tall intended for the base of the lamp to slide through with some wiggle room. I then drew two truncated cones, one slightly larger than the other, and used the smaller one to cut the larger one, forming a conular shape that the cord could go through, and that would support the bottom of the lamp to keep it from falling through. I then joined the two resulting objects, exported the object as an STL, and ran a test print using Cura. Surprisingly, I got this right on the very first try which was awesome! I wanted to play around with different tapers of the bottom cone shape, but figured I'd leave that to the end, time-permitting.

                <br><br>
                <img src="A5-files/Pictures/lamp-base-front.png" width=30%></a>
                <img src="A5-files/Pictures/lamp-base-top.png" width=30%></a>
                <img src="A5-files/Pictures/lamp-base-printed.png" width=30%></a>
                <br><br>

                With my inner lamp supporing piece ready, I couldn't move on to finishing the rest of the base until I knew how big the disks holding the leaves together were going to be. I ran a test print, with a tube large enough to clear my lightbulb and wide enough to hold the leaves together. I stopped the print when I realized that the part of the leaf that connected to the tube was only one line thick... this wasn't offering any support and when I removed the supports I was able to super easily snap off each leaf (first picture below). I realized that this was because of how my leaf was being extruded. While the top edge of the leaf was 3mm thick, the bottom of the leaf was converging to a single curve, as shown in the second picture below. While I could artificially fix this by make my disk wider so that the thinnest part of the leaf was encapsulated by it, I didn't love that the piece could still potentially snap with bad handling (picture 3 below).

                <br><br>
                <img src="A5-files/Pictures/layer-1-test-fail.png" width=30%></a>
                <img src="A5-files/Pictures/leaf-side-profile.png" width=30%></a>
                <img src="A5-files/Pictures/test-two-wider-tube.png" width=30%></a>
                <br><br>

                After much trial and error in both Grasshopper, I couldn't get the surface to extrude the way I wanted to... one edge was always super thin no matter what I tried. Eventually, I turned to Rhino to try and figure out a solution. I baked the non-extruded surface from my Grasshopper script and started manipulating it in Rhino. I tried <i>so</i> many commands to try and get a closed solid polysurface (multiple variations of lofting, merging edges, merging surfaces, capping open polysurfaces...) and nothing worked. Finally, after about an hour of no progress, I tried the <i>DevLoft</i> command to loft each edge of the surface and this gave me a closed polysurface <i>*as I cried with tears of joy*</i>.

                <br><br>

                It was awesome that I found a solution, but I wasn't quite sure how to convert that to Grasshopper.. so I figured that I would use Grasshopper to create my surfaces and to visualize the final product, and would manually loft each surface (one for each layer of the lamp) in Rhino myself, and then generate a polar array for it in Rhino. While this was a few more manual steps than I was hoping for, it seemed to work and my test print with the new leaf design looked great! I kicked off a print consisting of the entire layer, with all 8 leaves, but that's going to take 12 hours to print so stay tuned ðŸ˜‰

                <br><br>
                <img src="red-panda.jpg" width=400></a>
                <br><br>
            </p>

            <h2>Source Files</h2>
            <h3>Let's Get Meshy Source Files</h3>
            <p>
                <a href="A5-files/Mesh Files/bulbasaur_original.STL">Bulbasaur mesh from Thingiverse</a>
                <br>
                <a href="A5-files/Mesh Files/cactus_original.stl">Cactus mesh from Thingiverse</a>
                <br>
                <a href="A5-files/Mesh Files/combining-meshes.3dm">Rhino file w/ combined meshes</a>
                <br>
                <a href="A5-files/Mesh Files/combined-mesh.stl">Combined meshes exported as STL</a>
                <br>
            </p>

            <h3>Lamp Source Files</h3>
            <p>
                <a href="A5-files//Lamp Files/generate-leaves-single-layer.gh">Grasshopper file to generate one ring of leaves</a>
                <br>
                <a href="A5-files//Lamp Files/generate-leaves.gh">Grasshopper file to generate multiple rings of leaves to visualize the final lamp shade piece</a>
                <br>
                <a href="A5-files//Lamp Files/lamp-support.3dm">Rhino file containing the lamp support piece</a>
                <br>
                <a href="A5-files//Lamp Files/manually-lofted-leaves.3dm">Rhino file containing the leaves I manually lofted</a>
                <br>
            </p>

            <h2>Acknowledgements</h2>
            <p>
                Emily Rowland for going through the mesh assignment with me.
                <br>
                Junchao for his help during office hours.
            </p>

            <p>
                <br><br>
                <a href="index.html">Return to Home</a>
            </p>
        </div>
        
    </body>
</html>
